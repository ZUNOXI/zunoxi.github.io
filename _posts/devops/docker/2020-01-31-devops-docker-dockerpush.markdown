---
layout: post
title: Docker#4. ë„ì»¤(Docker) Hub Push / Pull / Run
subtitle: ë„ì»¤(Docker) Hub Push / Pull / Run
categories: devops
tags: devops docker
comments: true
published: true
header-img: img/devops/docker/logo.png
---


í•´ë‹¹ í¬ìŠ¤íŒ…ì€ [https://zunoxi.tistory.com/27?category=950190](https://zunoxi.tistory.com/27?category=950190) ìœ¼ë¡œ ì´ì „ë˜ì—ˆìŠµë‹ˆë‹¤.

<!--
ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” ì´ì „ í¬ìŠ¤íŒ…ì—ì„œ ë§Œë“  ë„ì»¤ ì´ë¯¸ì§€ë¥¼ **Docker Hub** ìƒì— docker pushì™€ docker pullì„ ì´ìš©í•˜ì—¬ **ë¡œì»¬í™˜ê²½ì—ì„œ ê°œë°œí•œ ì–´í”Œë¦¬ì¼€ì´ì…˜**ì„ ë„ì»¤ ì´ë¯¸ì§€ë¡œ ë¡œë”©í•¨ìœ¼ë¡œì¨ **ì„œë²„ì—ì„œë„ êµ¬ë™**ì´ ê°€ëŠ¥í•˜ê²Œë” í•´ë³¼ì˜ˆì •ì´ë‹¤.

<br>

---

> **1\. Docker push í•˜ê¸°**

docker push ì´ì „ì— docker hubì— ëŒ€í•´ ì„¤ëª…í•´ì•¼ í•  ê²ƒ ê°™ë‹¤. **docker hub**ëŠ” gitlabì´ë‚˜ githubì²˜ëŸ¼ ì½”ë“œë¥¼ ê´€ë¦¬í•˜ê³  ê³µìœ í•˜ëŠ” ì‹œìŠ¤í…œê³¼ ìœ ì‚¬í•˜ë©° **dockerì´ë¯¸ì§€ë¥¼ ê³µìœ  ë° ë²„ì „ ê´€ë¦¬**ë¥¼ í•˜ê²Œ í•´ì£¼ëŠ” `í˜•ìƒê´€ë¦¬ íˆ´ í˜¹ì€ ì›¹ì‚¬ì´íŠ¸`ë¼ê³  ì´í•´ í•  ìˆ˜ ìˆë‹¤.

ë¨¼ì €, í•„ì ë¡œì»¬ì— ë§Œë“¤ì–´ì§„ docker ì´ë¯¸ì§€ íŒŒì¼ë“¤ì„ í™•ì¸í•œë‹¤.

```
> docker images
```

<br>

![ê·¸ë¦¼1](/assets/img/devops/docker/dockerpush/1.png)

<br>

"zunoxi:latest" ë¼ëŠ” ì´ë¯¸ì§€ íŒŒì¼ì„ docker hubì— push í•´ë³´ë ¤ í•œë‹¤.

<br>

![ê·¸ë¦¼2](/assets/img/devops/docker/dockerpush/2.png)

<br>


Docker push ë¥¼ í•˜ë ¤ë©´ `Docker Hubì˜ ê³„ì •`ì´ ìˆì–´ì•¼í•¨ì€ ë¬¼ë¡ ì´ê³ , ë³¸ì¸ì˜ **Repositoryê°€ ìˆì–´ì•¼ push í•  ìˆ˜ ìˆë‹¤.** Githubì„ ìƒê°í•´ë³¸ë‹¤ë©´ ì˜¬ë¦¬ê³  ì‹¶ì€ í”„ë¡œì íŠ¸ì— ëŒ€í•´ git repository ìƒì„±ì´ ì•ˆë˜ì–´ìˆëŠ”ë° ì˜¬ë¦´ìˆ˜ëŠ” ì—†ëŠ”ê²ƒê³¼ ê°™ë‹¤. í•„ìëŠ” javer ë¼ëŠ” ropositoryë¥¼ ë§Œë“¤ì—ˆê³  ì´ê³³ì— ë¡œì»¬ì—ì„œ ë§Œë“  imageíŒŒì¼ì„ pushí•  ì˜ˆì •ì´ë‹¤.

ë¨¼ì € docker hubì— ì—…ë¡œë“œ í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì„ ì–»ê¸° ìœ„í•´ ë¡œì»¬ í„°ë¯¸ë„ ì°½ì— ë‹¤ìŒê³¼ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•œë‹¤.

```
> docker login
```

ì´í›„ docker hubì˜ userID, passwordë¥¼ ì…ë ¥í•œ í›„, Login suceedê°€ í™•ì¸ëœë‹¤ë©´ docker imageì— íƒœê·¸ë¥¼ ë‹¬ì•„ ë³´ì.

\* **Docker image íŒŒì¼ íƒœê·¸ ê±¸ê¸°**

```
> docker tag zunoxi cross9308/javer:zunoxi
```

docker tag \[ì´ë¯¸ì§€ ëª…\] \[docker hub id\]/\[repository ëª…\]:\[íƒœê·¸ëª…\] ì´ë ‡ê²Œ ì…ë ¥í•œë‹¤. ê·¸ë¦¬ê³  í„°ë¯¸ë„ì°½ì— $ docker imagesë¥¼ ì…ë ¥í•˜ë©´ cross9308/javer repositoryì— zunoxi íƒœê·¸ê°€ ê±¸ë¦° ì´ë¯¸ì§€ê°€ í™•ì¸ëœë‹¤.

**\* Docker image íŒŒì¼ í‘¸ì‹œ í•˜ê¸°**

```
> docker push cross9308/javer:zunoxi
```

`docker push \[docker hub id\]/\[repository ëª…\]:\[íƒœê·¸ëª…\]Â `

ì´ë¶€ë¶„ì—ì„œ ê±°ì˜ ë°˜ë‚˜ì ˆ ë„˜ê²Œ í•´ë§¸ë‹¤... ìê¾¸ deniedê°€ ë– ì„œ...ğŸ˜¢ stack overflowë¥¼ í†µí•´ ê²¨ìš° í•´ê²°í–ˆë‹¤. ì •ë§ ì•„ë¬´ê²ƒë„ ì•„ë‹ˆì˜€ëŠ”ë° ì´ëŸ° ì‚¬ì†Œí•œ ë¶€ë¶„ì„ ìºì¹˜í•´ë‚´ì§€ ëª»í•˜ëŠ”ê²ƒì´ ì‹¤ë ¥ìˆëŠ” ì—”ì§€ë‹ˆì–´ì™€ ê·¸ë ‡ì§€ ì•Šì€ ì‚¬ëŒì„ êµ¬ë¶„í•˜ëŠ” ë“¯í•´ì„œ ë§ˆìŒì´ ì•„í”„ë‹¤(?)

ë³¸ì¸ì€ ì´ë¯¸ì§€ íŒŒì¼ì„ í‘¸ì‹œí•˜ê³ ì‹¶ì€ë° ì™œ ì•ˆë ê¹Œ ì‹¶ì€ ì‚¬ëŒì€ ì•„ë˜ ì£¼ì†Œë¥¼ ì°¸ê³ .

[https://stackoverflow.com/questions/41984399/denied-requested-access-to-the-resource-is-denied-docker](https://stackoverflow.com/questions/41984399/denied-requested-access-to-the-resource-is-denied-docker)


<br>

![ê·¸ë¦¼3](/assets/img/devops/docker/dockerpush/3.png)

<br>

ì´ë ‡ê²Œ Docker Hub repository ë‚´ë¶€ì— zunoxiê°€ ì •ìƒì ìœ¼ë¡œ ì—…ë¡œë“œ ëœ ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤. ì´ì œ docker pullì„ ì´ìš©í•´ì„œ AWS ì„œë²„ìƒì—ì„œ ì´ë¯¸ì§€ë¥¼ êµ¬ë™í•´ ë³´ë ¤í•œë‹¤.

<br>

> **2\. Docker Pull í•˜ê¸°**

<br>

AWS ì„œë²„ì— ì ‘ì†í•˜ì—¬ ì»¤ë§¨ë“œ ì°½ì— ë‹¤ìŒê³¼ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì—¬ pull í•´ë³´ë ¤í•œë‹¤.

**(Docker login ì—­ì‹œ ë§ˆì°¬ê°€ì§€ë¡œ ì‚¬ì „ì— í•´ì¤˜ì•¼ í•œë‹¤!)**

```
> docker pull cross9308/javer:zunoxi
```

docker pull\[docker hub id\]/\[repository ëª…\]:\[íƒœê·¸ëª…\]Â 

<br>

![ê·¸ë¦¼4](/assets/img/devops/docker/dockerpush/4.png)

<br>

ì´ë ‡ê²Œ ì •ìƒì ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ë‹¹ê²¨ì™”ë‹¤.ğŸ˜

<br>

![ê·¸ë¦¼5](/assets/img/devops/docker/dockerpush/5.png)

<br>

ì´ì œ í•´ë‹¹ ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰ ì‹œì¼œë³´ë ¤í•œë‹¤.

<br>

> **3\. Docker image run**

<br>

ì‹¤í–‰ì€ ë‹¤ìŒê³¼ ê°™ì€ ëª…ë ¹ì–´ë¡œ ê°„ë‹¨í•˜ê²Œ ì‹¤í–‰ í•  ìˆ˜ ìˆë‹¤.

```
$Â dockerÂ runÂ -pÂ 3000:3000Â 944f15368886
```

`docker run -p \[í˜¸ìŠ¤íŠ¸ì˜ í¬íŠ¸ ë²ˆí˜¸\]:\[ì»¨í…Œì´ë„ˆì˜ í¬íŠ¸ ë²ˆí˜¸\] \[docker imageID\]`Â 

docker container runì˜ ì˜µì…˜ ì¤‘ ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì— í•´ë‹¹í•˜ëŠ” ë¶€ë¶„ì´ ê½¤ ë§ì§€ë§Œ, í•´ë‹¹ í¬ìŠ¤íŒ…ì—ì„œëŠ” **\-p or --publush** ì— ëŒ€í•´ì„œë§Œ ë‹¤ë£¬ë‹¤. ìœ„ì˜Â  ì˜ˆì‹œ ì²˜ëŸ¼ `-p ì˜µì…˜ì€ í˜¸ìŠ¤íŠ¸ì™€ ì»¨í…Œì´ë„ˆì˜ í¬íŠ¸ë¥¼ ë§¤í•‘`ì‹œí‚¤ëŠ”ê²ƒì´ë©°, í’€ì–´ì„œ ì„¤ëª…í•˜ìë©´ í˜¸ìŠ¤íŠ¸ ì„œë²„ì˜ 3000ë²ˆ í¬íŠ¸ë¡œ íŠ¸ë˜í”½ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ì´ë¥¼ ì»¨í…Œì´ë„ˆì˜ 3000ë²ˆí¬íŠ¸ë¡œ ì—°ê²°ì‹œí‚¤ëŠ”ê²ƒì„ ì˜ë¯¸í•œë‹¤. 

ë‹¤ë¥¸ ì˜ˆë¡œ 8080ìœ¼ë¡œ ëŒì•„ê°€ëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì»¨í…Œì´ë„ˆë¡œ êµ¬ë™ì‹œí‚¤ê³  4500:8080 ìœ¼ë¡œ ë§¤í•‘ì„ í•˜ë©´ í˜¸ìŠ¤íŠ¸ì˜ 4500ë²ˆ í¬íŠ¸ë¡œ ì»¨í…Œì´ë„ˆì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì— ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹¤. (ë¬¼ë¡  ë°©í™”ë²½ì€ ì—´ì–´ì¤˜ì•¼í•œë‹¤.)

<br>

ì¶”ê°€ë¡œ docker run ì‹œ **\-d ì˜µì…˜**ì„ ì‚¬ìš©í•˜ë©´ ë°±ê·¸ë¼ìš´ë“œ ëª¨ë“œë¡œ ì‹¤í–‰ëœë‹¤.

<br>

![ê·¸ë¦¼6](/assets/img/devops/docker/dockerpush/6.png)

<br>

![ê·¸ë¦¼7](/assets/img/devops/docker/dockerpush/7.png)

<br>

ì´ë ‡ê²Œ ì˜ ëŒì•„ê°€ëŠ” ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆë‹¤. ì—¬ê¸°ê¹Œì§€ ì´ 4ë¶€ì— ê±¸ì³ ë„ì»¤ì˜ ê°œë…ë¶€í„° ë„ì»¤ë¥¼ í™œìš©í•˜ì—¬ ì„œë²„ì—ì„œ í”„ë¡œì íŠ¸ë¥¼ êµ¬ë™í•˜ëŠ” ê³¼ì •ê¹Œì§€ ì •ë¦¬ í•´ë´¤ë‹¤.Â 

<br>

---

â€» ì•ì„  í¬ìŠ¤íŒ…ì—ì„œë„ ì–¸ê¸‰í–ˆì§€ë§Œ reactë¡œ ê°œë°œí•œ í”„ë¡ íŠ¸ë¥¼ ìš´ì˜ê³„ì— ë°°í¬í• ë•ŒëŠ” ì´ëŸ°ì‹ìœ¼ë¡œ ëŒë¦¬ëŠ”ê²ƒ ë³´ë‹¤ ë¹Œë“œë¥¼ ë§ˆì¹˜ê³  ì›¹ì„œë²„ì™€ í•¨ê»˜ëŒë¦¬ëŠ”ê²ƒì´ ë§ë‹¤.(nodejsëŠ” ì›¹ì„œë²„ê°€ ì•„ë‹ˆë‹ˆê¹) 

ë”°ë¼ì„œ ë¹Œë“œëœ react í”„ë¡œì íŠ¸ë¥¼ nginxë‚˜ apacheê°™ì€ ì›¹ì„œë²„ë¥¼ ì´ìš©í•˜ì—¬ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë§Œë“œëŠ”ê²ƒì´ ë§ê² ì§€ë§Œ, ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” ìµœëŒ€í•œ ê°„ë‹¨í•˜ê²Œ ì§„í–‰í•´ë³´ë ¤ í¬ìŠ¤íŒ…ì„ ì‘ì„±í–ˆì—ˆìœ¼ë‹ˆ ê·¸ë¶€ë¶„ ì°¸ê³ í•˜ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤.

ps. í˜¹ì‹œë¼ë„ ê³¼ì • ì¤‘ ê¶ê¸ˆì¦ì´ ìƒê¸°ê±°ë‚˜ ìˆ˜ì •í•´ì•¼í•  ë¶€ë¶„ì´ ìˆë‹¤ë©´ ì–¸ì œë“ ì§€ ëŒ“ê¸€ë‹¬ì•„ ì£¼ì„¸ìš” ğŸ™ŒğŸ™ŒğŸ™Œ

-->
